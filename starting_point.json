{
  "info": {
    "name": "Connet - Academic Partnership Platform API",
    "description": "üéâ COMPLETE Postman collection for Connet Academic Partnership Platform with Supabase REST API.\n\nüöÄ SUPER SIMPLE SETUP:\n1. ‚úÖ Set supabase_url to your project URL\n2. ‚úÖ Set supabase_anon_key to your anon key\n3. üîß CRITICAL: Run current-supabase-state.sql + supabase-new-features.sql\n4. ‚úÖ Test: Run 'Database Setup Verification' first!\n\n‚ö†Ô∏è NO EMAIL VERIFICATION REQUIRED:\n‚úÖ Users are auto-confirmed on signup\n‚úÖ Immediate access after signup\n‚úÖ Perfect for development/testing\n\nüîß WHAT'S FIXED:\n‚úÖ Duplicate key violations resolved\n‚úÖ Auth trigger handles existing profiles safely\n‚úÖ Admin function prevents duplicate users\n‚úÖ Proper error handling for all endpoints\n‚úÖ Role auto-detection working perfectly\n‚úÖ Auto profile sync on project creation\n‚úÖ Foreign key constraint validation\n\nüéì DYNAMIC ROLE ASSIGNMENT:\nüìß @karabuk.edu.tr ‚Üí researcher\nüìß @ogrenci.karabuk.edu.tr ‚Üí student \nüìß @gmail.com/@outlook.com ‚Üí user\n‚ú® Roles automatically assigned on signup!\n\nüß™ TESTING SEQUENCE:\n1. Run SQL files in Supabase SQL Editor\n2. Run 'Database Setup Verification'\n3. Try 'Auth Signup Tests' (work instantly!)\n4. BEFORE creating projects: Run 'Verify User Profile Exists'\n5. If profile missing: Run 'Auto-Sync Profile'\n6. Test 'Projects Management' ‚Üí 'Applications' ‚Üí 'Favorites' ‚Üí 'Ratings'\n7. Check 'Notifications' created by triggers\n\n‚ö†Ô∏è IMPORTANT: If you get foreign key errors, run the profile sync request!",
    "version": "3.0.0-NO-EMAIL-VERIFICATION",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "supabase_url",
      "value": "https://qzilrmaurxfpxdhrtolf.supabase.co",
      "type": "string"
    },
    {
      "key": "supabase_anon_key", 
      "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF6aWxybWF1cnhmcHhkaHJ0b2xmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA4Mjc2NDUsImV4cCI6MjA3NjQwMzY0NX0.9lKrU1UbIqdMppGQoUsYYUdNG5wUjAldpQJZrxEfT_E",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "refresh_token", 
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "admin_access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "project_id",
      "value": "",
      "type": "string",
      "description": "ID of created project for testing"
    },
    {
      "key": "researcher_project_id",
      "value": "",
      "type": "string",
      "description": "ID of researcher's project for testing"
    },
    {
      "key": "application_id",
      "value": "",
      "type": "string",
      "description": "ID of submitted application for testing"
    },
    {
      "key": "rating_id",
      "value": "",
      "type": "string",
      "description": "ID of submitted rating for testing"
    }
  ],
  "item": [
    {
      "name": "üîß Database Setup Verification",
      "item": [
        {
          "name": "‚úÖ Verify Database Setup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"SELECT check_database_setup();\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/check_database_setup",
            "description": "üîç FIRST TEST - Verify Setup\n\n‚úÖ This should return:\n- users_table_exists: true\n- user_roles_table_exists: true\n- app_role_enum_exists: true\n- auth_trigger_exists: true\n\n‚ùå If any are false, run the SQL scripts!"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Database setup is complete', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.users_table_exists).to.be.true;",
                  "    pm.expect(responseJson.user_roles_table_exists).to.be.true;",
                  "    pm.expect(responseJson.app_role_enum_exists).to.be.true;",
                  "    pm.expect(responseJson.auth_trigger_exists).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Test Email Domain Detection",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"SELECT test_email_domains();\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/test_email_domains",
            "description": "üß™ TEST EMAIL DOMAINS\n\n‚úÖ Should detect:\n- @ogrenci.karabuk.edu.tr ‚Üí student\n- @karabuk.edu.tr ‚Üí researcher  \n- @gmail.com ‚Üí user"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Email domain detection works', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.student_email.detected_role).to.equal('student');",
                  "    pm.expect(responseJson.researcher_email.detected_role).to.equal('researcher');",
                  "    pm.expect(responseJson.user_email.detected_role).to.equal('user');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Test Professional Fields Schema",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?limit=1&select=id,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "limit",
                  "value": "1"
                },
                {
                  "key": "select",
                  "value": "id,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration"
                }
              ]
            },
            "description": "üß™ TEST PROFESSIONAL FIELDS SCHEMA\n\n‚úÖ Verifies all new professional fields exist:\n- bio, institution, department, title\n- orcid_id, linkedin_url, website_url\n- expertise_areas[], skills[], location\n- available_for_collaboration\n\nüí° If this returns data, the schema is correctly updated!"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Professional fields schema exists', function () {",
                  "    pm.expect(pm.response.code).to.equal(200);",
                  "    const responseJson = pm.response.json();",
                  "    if (responseJson.length > 0) {",
                  "        const user = responseJson[0];",
                  "        // Check that all professional fields are present (can be null)",
                  "        pm.expect(user).to.have.property('bio');",
                  "        pm.expect(user).to.have.property('institution');",
                  "        pm.expect(user).to.have.property('department');",
                  "        pm.expect(user).to.have.property('title');",
                  "        pm.expect(user).to.have.property('orcid_id');",
                  "        pm.expect(user).to.have.property('linkedin_url');",
                  "        pm.expect(user).to.have.property('website_url');",
                  "        pm.expect(user).to.have.property('expertise_areas');",
                  "        pm.expect(user).to.have.property('skills');",
                  "        pm.expect(user).to.have.property('location');",
                  "        pm.expect(user).to.have.property('available_for_collaboration');",
                  "        console.log('‚úÖ All professional fields exist in schema');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üîê Auth Signup Tests (FIXED)",
      "item": [
        {
          "name": "‚úÖ Signup - Student (FIXED)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student-{{$timestamp}}@ogrenci.karabuk.edu.tr\",\n  \"password\": \"testpassword123\",\n  \"data\": {\n    \"full_name\": \"Test Student User\"\n  }\n}"
            },
            "url": "{{supabase_url}}/auth/v1/signup",
            "description": "üéì STUDENT SIGNUP - FIXED!\n\n‚úÖ What happens:\n1. Creates auth user with @ogrenci.karabuk.edu.tr\n2. Auto-syncs profile after signup\n3. Assigns 'student' role automatically\n4. Uses timestamp to ensure unique emails\n\nüîß Fixed Issues:\n- ‚úÖ Duplicate prevention\n- ‚úÖ Safe role assignment\n- ‚úÖ Auto profile sync\n- ‚úÖ Proper error handling"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Student signup successful', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.user).to.exist;",
                  "    pm.expect(responseJson.user.email).to.include('@ogrenci.karabuk.edu.tr');",
                  "    ",
                  "    // Save user details for further tests",
                  "    if (responseJson.access_token) {",
                  "        pm.environment.set('student_access_token', responseJson.access_token);",
                  "        pm.environment.set('student_user_id', responseJson.user.id);",
                  "        ",
                  "        // Auto-sync profile after signup",
                  "        const syncRequest = {",
                  "            url: pm.environment.get('supabase_url') + '/rest/v1/rpc/sync_specific_auth_user',",
                  "            method: 'POST',",
                  "            header: {",
                  "                'apikey': pm.environment.get('supabase_anon_key'),",
                  "                'Authorization': 'Bearer ' + pm.environment.get('supabase_anon_key'),",
                  "                'Content-Type': 'application/json'",
                  "            },",
                  "            body: {",
                  "                mode: 'raw',",
                  "                raw: JSON.stringify({",
                  "                    target_user_id: responseJson.user.id",
                  "                })",
                  "            }",
                  "        };",
                  "        ",
                  "        pm.sendRequest(syncRequest, (err, res) => {",
                  "            if (!err) {",
                  "                console.log('Profile sync result:', res.json());",
                  "            } else {",
                  "                console.log('Profile sync error:', err);",
                  "            }",
                  "        });",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üîÑ Auto-Sync Profile After Signup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"target_user_id\": \"{{student_user_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/sync_specific_auth_user",
            "description": "üîÑ AUTO-SYNC PROFILE\n\n‚úÖ This automatically creates the public profile for new users\n‚úÖ Run this immediately after any signup\n‚úÖ Ensures profile exists before trying to query it\n\nüéØ Use this as a backup if the trigger doesn't fire"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Profile sync successful', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.success).to.be.true;",
                  "    console.log('Sync result:', responseJson.message);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Signup - Researcher (FIXED)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"researcher-{{$timestamp}}@karabuk.edu.tr\",\n  \"password\": \"testpassword123\",\n  \"data\": {\n    \"full_name\": \"Test Researcher\"\n  }\n}"
            },
            "url": "{{supabase_url}}/auth/v1/signup",
            "description": "üî¨ RESEARCHER SIGNUP - FIXED!\n\n‚úÖ Auto-assigns 'researcher' role for @karabuk.edu.tr"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Researcher signup successful', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.user.email).to.include('@karabuk.edu.tr');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Signup - Regular User (FIXED)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user-{{$timestamp}}@gmail.com\",\n  \"password\": \"testpassword123\",\n  \"data\": {\n    \"full_name\": \"Test Regular User\"\n  }\n}"
            },
            "url": "{{supabase_url}}/auth/v1/signup",
            "description": "üë§ REGULAR USER SIGNUP - FIXED!\n\n‚úÖ Auto-assigns 'user' role for @gmail.com"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Regular user signup successful', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.user.email).to.include('@gmail.com');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üëë Admin User Management (FIXED)",
      "item": [
        {
          "name": "üëë Admin Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": "{{supabase_url}}/auth/v1/token?grant_type=password",
            "description": "üîë Admin login to get admin access token"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const responseJson = pm.response.json();",
                  "    pm.environment.set('admin_access_token', responseJson.access_token);",
                  "    pm.environment.set('admin_user_id', responseJson.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Create Complete User - Student (WITH PROFESSIONAL FIELDS)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_email\": \"admin-created-student-{{$timestamp}}@ogrenci.karabuk.edu.tr\",\n  \"p_username\": \"admin_student_{{$timestamp}}\",\n  \"p_full_name\": \"Admin Created Student\",\n  \"p_avatar_url\": \"https://example.com/avatar-student.jpg\",\n  \"p_projects\": [\"Student Project A\", \"Student Project B\"],\n  \"p_role\": null,\n  \"p_is_active\": true,\n  \"p_bio\": \"Computer Science student passionate about AI and machine learning. Currently working on my thesis about neural networks.\",\n  \"p_institution\": \"Karab√ºk University\",\n  \"p_department\": \"Computer Engineering\",\n  \"p_title\": \"Graduate Student\",\n  \"p_orcid_id\": \"0000-0000-0000-000X\",\n  \"p_linkedin_url\": \"https://linkedin.com/in/student-profile\",\n  \"p_website_url\": \"https://student-portfolio.com\",\n  \"p_expertise_areas\": [\"Machine Learning\", \"Python\", \"Data Analysis\"],\n  \"p_skills\": [\"Programming\", \"Research\", \"Technical Writing\"],\n  \"p_location\": \"Karab√ºk, Turkey\",\n  \"p_available_for_collaboration\": true\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/admin_create_complete_user",
            "description": "‚úÖ ADMIN CREATE USER - WITH PROFESSIONAL FIELDS!\n\nüéØ Creates complete user with:\n‚úÖ Avatar image, Full name, Username, Email\n‚úÖ Projects array, Auto-detected role (student), Active status\n‚úÖ Bio, Institution, Department, Title\n‚úÖ ORCID ID, LinkedIn, Website\n‚úÖ Expertise areas, Skills, Location\n‚úÖ Collaboration availability\n\nüîß Fixed duplicate prevention!"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Admin create user successful', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.success).to.be.true;",
                  "    pm.expect(responseJson.user).to.exist;",
                  "    pm.expect(responseJson.user.role).to.equal('student');",
                  "    pm.expect(responseJson.user.projects).to.be.an('array');",
                  "    pm.expect(responseJson.user.avatar_url).to.exist;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Create Complete User - Researcher (WITH PROFESSIONAL FIELDS)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_email\": \"admin-created-researcher-{{$timestamp}}@karabuk.edu.tr\",\n  \"p_username\": \"admin_researcher_{{$timestamp}}\",\n  \"p_full_name\": \"Dr. Admin Created Researcher\",\n  \"p_avatar_url\": \"https://example.com/avatar-researcher.jpg\",\n  \"p_projects\": [\"AI in Healthcare Research\", \"Sustainable Technology Development\"],\n  \"p_role\": null,\n  \"p_is_active\": true,\n  \"p_bio\": \"Senior researcher specializing in artificial intelligence applications in healthcare. Published 25+ papers in peer-reviewed journals. Leading interdisciplinary research projects.\",\n  \"p_institution\": \"Karab√ºk University\",\n  \"p_department\": \"Computer Engineering\",\n  \"p_title\": \"Associate Professor\",\n  \"p_orcid_id\": \"0000-0002-1234-5678\",\n  \"p_linkedin_url\": \"https://linkedin.com/in/dr-researcher-profile\",\n  \"p_website_url\": \"https://researcher-academic-page.edu\",\n  \"p_expertise_areas\": [\"Artificial Intelligence\", \"Healthcare Technology\", \"Research Methodology\", \"Data Science\"],\n  \"p_skills\": [\"Research Design\", \"Grant Writing\", \"Team Leadership\", \"Publication\", \"Statistical Analysis\"],\n  \"p_location\": \"Karab√ºk, Turkey\",\n  \"p_available_for_collaboration\": true\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/admin_create_complete_user",
            "description": "üî¨ ADMIN CREATE RESEARCHER - WITH PROFESSIONAL FIELDS!\n\n‚úÖ Auto-detects researcher role\n‚úÖ Complete academic profile with bio, ORCID, expertise\n‚úÖ Professional networking information\n‚úÖ Research collaboration settings"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Admin create researcher successful', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.success).to.be.true;",
                  "    pm.expect(responseJson.user.role).to.equal('researcher');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Override Role - Gmail User as Admin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_email\": \"new-admin-{{$timestamp}}@gmail.com\",\n  \"p_username\": \"new_admin_{{$timestamp}}\",\n  \"p_full_name\": \"New Admin User\",\n  \"p_avatar_url\": \"https://example.com/avatar-admin.jpg\",\n  \"p_projects\": [\"Admin Project 1\"],\n  \"p_role\": \"admin\",\n  \"p_is_active\": true\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/admin_create_complete_user",
            "description": "üëë ROLE OVERRIDE TEST\n\n‚úÖ Creates Gmail user but overrides to admin role\n(Normally @gmail.com ‚Üí user, but we force admin)"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Role override successful', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.success).to.be.true;",
                  "    pm.expect(responseJson.user.role).to.equal('admin');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚ùå Test Duplicate Prevention",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_email\": \"duplicate-test@example.com\",\n  \"p_username\": \"duplicate_user\",\n  \"p_full_name\": \"Duplicate Test User\",\n  \"p_is_active\": true\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/admin_create_complete_user",
            "description": "üö´ DUPLICATE PREVENTION TEST\n\n‚úÖ First call should succeed\n‚ùå Second call with same email should fail gracefully"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// First attempt should succeed, subsequent should fail",
                  "const responseJson = pm.response.json();",
                  "if (responseJson.success === false) {",
                  "    pm.test('Duplicate prevention works', function () {",
                  "        pm.expect(responseJson.error).to.include('already exists');",
                  "    });",
                  "} else {",
                  "    pm.test('First creation successful', function () {",
                  "        pm.expect(responseJson.success).to.be.true;",
                  "    });",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "üìä User Queries & Verification",
      "item": [
        {
          "name": "üìã List All Users with Complete Professional Data",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?select=id,email,username,full_name,avatar_url,projects,is_active,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration,user_roles(role)&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "select",
                  "value": "id,email,username,full_name,avatar_url,projects,is_active,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration,user_roles(role)"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üìä GET ALL USERS WITH COMPLETE PROFESSIONAL DATA\n\n‚úÖ Shows all fields including professional info:\n- Basic: Avatar, name, username, email\n- Professional: Bio, institution, department, title\n- Academic: ORCID, expertise areas, skills\n- Networking: LinkedIn, website, location\n- Settings: Projects, role, active status, collaboration availability"
          }
        },
        {
          "name": "üéì Filter Students Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?select=*,user_roles(role)&user_roles.role=eq.student",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "select",
                  "value": "*,user_roles(role)"
                },
                {
                  "key": "user_roles.role",
                  "value": "eq.student"
                }
              ]
            },
            "description": "üéì FILTER BY ROLE - Students only"
          }
        },
        {
          "name": "üî¨ Filter Researchers Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?select=*,user_roles(role)&user_roles.role=eq.researcher",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "select",
                  "value": "*,user_roles(role)"
                },
                {
                  "key": "user_roles.role",
                  "value": "eq.researcher"
                }
              ]
            },
            "description": "üî¨ FILTER BY ROLE - Researchers only"
          }
        }
      ]
    },
    {
      "name": "üë§ Profile Management",
      "item": [
        {
          "name": "Get My Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}&select=*,user_roles(role)",
            "description": "üë§ GET MY COMPLETE PROFILE\n\n‚úÖ Shows:\n- Personal info (name, email, username)\n- Avatar, projects, status\n- Current roles\n- Account status"
          }
        },
        {
          "name": "Update My Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"my_new_username\",\n  \"full_name\": \"John Doe\",\n  \"avatar_url\": \"https://example.com/my-avatar.jpg\",\n  \"projects\": [\"My Project 1\", \"My Project 2\"],\n  \"status\": \"ONLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}",
            "description": "‚úèÔ∏è UPDATE MY PROFILE\n\n‚úÖ Can update:\n- Username, full name\n- Avatar image URL\n- Projects array\n- Online/offline status"
          }
        },
        {
          "name": "Set Status Online",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"ONLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}",
            "description": "üü¢ SET STATUS TO ONLINE"
          }
        },
        {
          "name": "Set Status Offline",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"OFFLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}",
            "description": "‚ö´ SET STATUS TO OFFLINE"
          }
        },
        {
          "name": "Get My Roles",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/user_roles?user_id=eq.{{user_id}}&select=*",
            "description": "üé≠ CHECK MY ROLES\n\n‚úÖ Shows all roles assigned to me:\n- admin, moderator, student, researcher, etc."
          }
        },
        {
          "name": "üìù Update Professional Profile",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_user_id\": \"{{user_id}}\",\n  \"p_bio\": \"Updated professional bio - Passionate researcher in artificial intelligence with focus on ethical AI development.\",\n  \"p_institution\": \"Karab√ºk University\",\n  \"p_department\": \"Computer Engineering\",\n  \"p_title\": \"Senior Research Associate\",\n  \"p_orcid_id\": \"0000-0003-9999-8888\",\n  \"p_linkedin_url\": \"https://linkedin.com/in/updated-profile\",\n  \"p_website_url\": \"https://my-research-website.com\",\n  \"p_expertise_areas\": [\"AI Ethics\", \"Machine Learning\", \"Natural Language Processing\"],\n  \"p_skills\": [\"Python\", \"TensorFlow\", \"Research\", \"Academic Writing\"],\n  \"p_location\": \"Karab√ºk, Turkey\",\n  \"p_available_for_collaboration\": true\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/update_professional_profile",
            "description": "üìù UPDATE PROFESSIONAL PROFILE\n\n‚úÖ Updates professional fields:\n- Bio, Institution, Department, Title\n- ORCID ID, LinkedIn, Website\n- Expertise areas, Skills, Location\n- Collaboration availability"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Professional profile updated', function () {",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.success).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üîç Get Complete Profile with Professional Fields",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}&select=id,email,username,full_name,avatar_url,projects,is_active,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration,user_roles(role)",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{user_id}}"
                },
                {
                  "key": "select",
                  "value": "id,email,username,full_name,avatar_url,projects,is_active,bio,institution,department,title,orcid_id,linkedin_url,website_url,expertise_areas,skills,location,available_for_collaboration,user_roles(role)"
                }
              ]
            },
            "description": "üîç GET COMPLETE PROFILE WITH ALL PROFESSIONAL FIELDS\n\n‚úÖ Returns complete user profile:\n- Basic info (name, email, avatar)\n- Professional info (bio, institution, title)\n- Academic info (ORCID, expertise, skills)\n- Networking info (LinkedIn, website)\n- Collaboration settings\n- User roles"
          }
        },
        {
          "name": "üîç Search Users by Expertise",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"search_term\": \"Machine Learning\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/search_users_by_expertise",
            "description": "üîç SEARCH USERS BY EXPERTISE\n\n‚úÖ Search criteria:\n- Expertise areas\n- Skills\n- Bio content\n- Job title\n- Department\n\n‚úÖ Only shows active users available for collaboration"
          }
        },
        {
          "name": "üéØ Update Specific Fields (Direct PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"updated_teacher52\",\n  \"full_name\": \"Dr. Teacher Fifty-Two\",\n  \"avatar_url\": \"https://example.com/teacher52-avatar.jpg\",\n  \"bio\": \"Experienced educator and researcher in computer science with focus on AI applications in education.\",\n  \"institution\": \"Karab√ºk University\",\n  \"department\": \"Computer Engineering\",\n  \"title\": \"Associate Professor\",\n  \"orcid_id\": \"0000-0002-1234-5678\",\n  \"linkedin_url\": \"https://linkedin.com/in/teacher52\",\n  \"website_url\": \"https://teacher52-research.edu\",\n  \"expertise_areas\": [\"Educational Technology\", \"Artificial Intelligence\", \"Computer Science Education\"],\n  \"skills\": [\"Teaching\", \"Research\", \"Python\", \"Machine Learning\", \"Curriculum Development\"],\n  \"location\": \"Karab√ºk, Turkey\",\n  \"available_for_collaboration\": true,\n  \"projects\": [\"AI in Education Project\", \"Student Assessment Platform\"]\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.c2ca3af3-01d4-428e-8563-90d1c8a8c8a7",
            "description": "üéØ UPDATE SPECIFIC FIELDS (DIRECT PATCH)\n\n‚úÖ Update ANY combination of fields:\n- Basic: username, full_name, avatar_url\n- Professional: bio, institution, department, title\n- Academic: orcid_id, expertise_areas, skills\n- Networking: linkedin_url, website_url, location\n- Settings: projects, available_for_collaboration\n\nüí° Only include fields you want to update!\nüîß Replace the user ID in the URL with the target user"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Profile updated successfully', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
                  "    console.log('‚úÖ Profile fields updated');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üéØ Update Single Field Example - Bio Only",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bio\": \"Just updated my bio! Senior researcher passionate about AI ethics and educational technology.\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.c2ca3af3-01d4-428e-8563-90d1c8a8c8a7",
            "description": "üéØ UPDATE SINGLE FIELD EXAMPLE\n\n‚úÖ Update just one field (bio in this case)\nüí° You can update ANY single field this way:\n- bio, institution, title, skills, etc.\nüîß Replace the user ID with your target user"
          }
        },
        {
          "name": "üéØ Update Multiple Professional Fields",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"institution\": \"Karab√ºk University\",\n  \"department\": \"Computer Engineering\",\n  \"title\": \"Associate Professor\",\n  \"expertise_areas\": [\"Artificial Intelligence\", \"Machine Learning\", \"Educational Technology\"],\n  \"skills\": [\"Python\", \"Research\", \"Teaching\", \"Data Analysis\"]\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.c2ca3af3-01d4-428e-8563-90d1c8a8c8a7",
            "description": "üéØ UPDATE MULTIPLE PROFESSIONAL FIELDS\n\n‚úÖ Update several related fields at once\nüí° Perfect for completing a professional profile\nüîß Replace the user ID with your target user"
          }
        }
      ]
    },
    {
      "name": "üí¨ Channels",
      "item": [
        {
          "name": "Get All Channels",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/channels?select=*",
            "description": "üìã GET ALL CHANNELS\n\n‚úÖ Lists all available channels"
          }
        },
        {
          "name": "Get Channel by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/channels?id=eq.1&select=*",
            "description": "üîç GET SPECIFIC CHANNEL\n\n‚úÖ Get channel details by ID"
          }
        },
        {
          "name": "Create New Channel",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Prefer",
                "value": "return=representation"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"slug\": \"my-new-channel-{{$timestamp}}\",\n  \"created_by\": \"{{user_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/channels",
            "description": "‚ûï CREATE NEW CHANNEL\n\n‚úÖ Creates a new channel with unique slug"
          }
        },
        {
          "name": "Delete My Channel",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/channels?id=eq.3&created_by=eq.{{user_id}}",
            "description": "üóëÔ∏è DELETE MY CHANNEL\n\n‚úÖ Only delete channels I created"
          }
        }
      ]
    },
    {
      "name": "üí¨ Messages",
      "item": [
        {
          "name": "Get All Messages",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/messages?select=*,author:user_id(full_name,username,avatar_url)",
            "description": "üìã GET ALL MESSAGES\n\n‚úÖ Shows messages with author details"
          }
        },
        {
          "name": "Get Messages by Channel",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/messages?channel_id=eq.1&select=*,author:user_id(full_name,username,avatar_url)&order=inserted_at.asc",
            "description": "üîç GET MESSAGES FOR CHANNEL\n\n‚úÖ Shows messages in chronological order"
          }
        },
        {
          "name": "Send Message",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Prefer",
                "value": "return=representation"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Hello from Postman! üöÄ Sent at {{$timestamp}}\",\n  \"channel_id\": 1,\n  \"user_id\": \"{{user_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/messages",
            "description": "üì§ SEND MESSAGE\n\n‚úÖ Send message to specific channel"
          }
        },
        {
          "name": "Update My Message",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Updated message content üìù - Updated at {{$timestamp}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/messages?id=eq.3&user_id=eq.{{user_id}}",
            "description": "‚úèÔ∏è UPDATE MY MESSAGE\n\n‚úÖ Edit my own messages only"
          }
        },
        {
          "name": "Delete My Message",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/messages?id=eq.4&user_id=eq.{{user_id}}",
            "description": "üóëÔ∏è DELETE MY MESSAGE\n\n‚úÖ Delete my own messages only"
          }
        }
      ]
    },
    {
      "name": "üëë Admin Operations (ADMIN ONLY)",
      "item": [
        {
          "name": "Get All Users with Complete Details",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/users?select=*,user_roles(role)&order=created_at.desc",
            "description": "üëë ADMIN: GET ALL USERS\n\n‚úÖ Complete user directory with:\n- All profile information\n- Roles and permissions\n- Account status\n- Creation dates (newest first)\n\n‚úÖ Now includes timestamp columns!"
          }
        },
        {
          "name": "Admin Assign Role to User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Prefer",
                "value": "return=representation"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"user_id\": \"REPLACE_WITH_USER_ID\",\n  \"role\": \"admin\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/user_roles",
            "description": "üëë ADMIN: ASSIGN ROLE\n\n‚úÖ Available roles:\n- admin (full access)\n- moderator (content management)\n- student (basic access)\n- researcher (extended access)\n- professor (academic access)\n- user (default access)\n\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "Admin Update User Role",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"role\": \"researcher\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/user_roles?user_id=eq.REPLACE_WITH_USER_ID",
            "description": "üëë ADMIN: UPDATE USER ROLE\n\n‚úÖ Change existing user's role\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "Admin Remove User Role",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/user_roles?user_id=eq.REPLACE_WITH_USER_ID",
            "description": "üëë ADMIN: REMOVE USER ROLE\n\n‚ö†Ô∏è Removes all roles from user\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "Admin Delete Any Channel",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/channels?id=eq.REPLACE_WITH_CHANNEL_ID",
            "description": "üëë ADMIN: DELETE ANY CHANNEL\n\n‚ö†Ô∏è Can delete any channel regardless of creator\nüìù Replace REPLACE_WITH_CHANNEL_ID with actual channel ID"
          }
        },
        {
          "name": "Admin Delete Any Message",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/messages?id=eq.REPLACE_WITH_MESSAGE_ID",
            "description": "üëë ADMIN: DELETE ANY MESSAGE\n\n‚ö†Ô∏è Can delete any message regardless of author\nüìù Replace REPLACE_WITH_MESSAGE_ID with actual message ID"
          }
        },
        {
          "name": "Admin Update User Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"full_name\": \"Admin Updated Name\",\n  \"username\": \"admin_updated_username\",\n  \"avatar_url\": \"https://example.com/admin-updated-avatar.jpg\",\n  \"projects\": [\"Admin Project 1\", \"Admin Project 2\"],\n  \"is_active\": true,\n  \"status\": \"ONLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.REPLACE_WITH_USER_ID",
            "description": "üëë ADMIN: UPDATE ANY USER PROFILE\n\n‚úÖ Can update any user's:\n- Personal information\n- Avatar and projects\n- Account status\n- Online/offline status\n\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "Admin Deactivate User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"is_active\": false,\n  \"status\": \"OFFLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.REPLACE_WITH_USER_ID",
            "description": "üëë ADMIN: DEACTIVATE USER\n\n‚ö†Ô∏è Suspends user account\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "Admin Reactivate User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"is_active\": true,\n  \"status\": \"ONLINE\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.REPLACE_WITH_USER_ID",
            "description": "üëë ADMIN: REACTIVATE USER\n\n‚úÖ Restores user account\nüìù Replace REPLACE_WITH_USER_ID with actual user ID"
          }
        },
        {
          "name": "üóëÔ∏è Admin Delete User (Permanent)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/users?id=eq.REPLACE_WITH_USER_ID",
            "description": "üóëÔ∏è ADMIN: DELETE USER (PERMANENT)\n\n‚ö†Ô∏è DANGER: This permanently deletes the user!\n‚úÖ Removes user from users table\n‚úÖ Cascades to remove user_roles\n‚úÖ Cannot be undone\n\nüìù Replace REPLACE_WITH_USER_ID with actual user ID\nüí° Consider using 'Deactivate User' instead for reversible suspension"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User deleted successfully', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
                  "    console.log('‚ö†Ô∏è User permanently deleted');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üîÑ Change User Active Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"is_active\": false\n}"
            },
            "url": "{{supabase_url}}/rest/v1/users?id=eq.REPLACE_WITH_USER_ID",
            "description": "üîÑ ADMIN: CHANGE USER ACTIVE STATUS\n\n‚úÖ Toggle user active status:\n- true = Active user (can access system)\n- false = Inactive user (suspended)\n\nüìù Replace REPLACE_WITH_USER_ID with actual user ID\nüí° Change the body value to true/false as needed"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User status updated', function () {",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);",
                  "    console.log('‚úÖ User active status changed');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üìä Get Inactive Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "url": "{{supabase_url}}/rest/v1/users?is_active=eq.false&select=id,email,username,full_name,is_active,created_at,user_roles(role)",
            "description": "üìä ADMIN: GET INACTIVE USERS\n\n‚úÖ Lists all deactivated/suspended users\n‚úÖ Shows when they were created\n‚úÖ Shows their roles\n\nüí° Use this to review suspended accounts"
          }
        }
      ]
    },
    {
      "name": "üß™ Debugging & Testing",
      "item": [
        {
          "name": "üîç Test Auth User Creation Safe",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"test_email\": \"debug-safe-{{$timestamp}}@ogrenci.karabuk.edu.tr\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/test_auth_user_creation_safe",
            "description": "üß™ SAFE DEBUG TEST\n\n‚úÖ Tests user creation with duplicate prevention"
          }
        },
        {
          "name": "üöÄ Test Fixed Auth Signup",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"test_email\": \"trigger-test-{{$timestamp}}@ogrenci.karabuk.edu.tr\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/test_fixed_auth_signup",
            "description": "üöÄ TEST FIXED TRIGGER\n\n‚úÖ Simulates the fixed auth trigger logic"
          }
        },
        {
          "name": "üßπ Cleanup Test Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{admin_access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/cleanup_test_data",
            "description": "üßπ CLEANUP TEST DATA\n\n‚úÖ Removes all test users and roles\n‚ö†Ô∏è Use carefully - removes test data!"
          }
        }
      ]
    },
    {
      "name": "üìù Projects Management",
      "item": [
        {
          "name": "üîç Verify User Profile Exists (Pre-check)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/users?id=eq.{{user_id}}&select=*",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "users"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{user_id}}"
                },
                {
                  "key": "select",
                  "value": "*"
                }
              ]
            },
            "description": "üîç VERIFY USER PROFILE EXISTS\n\n‚úÖ CRITICAL: Run this before creating projects!\n‚úÖ Checks if auth user has matching public.users record\n‚ùå If empty array returned, run 'Auto-Sync Profile'\n\nüí° This prevents foreign key errors on project creation"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('User profile exists', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson).to.be.an('array');",
                  "    ",
                  "    if (responseJson.length === 0) {",
                  "        console.error('‚ùå USER PROFILE MISSING! Run \"Auto-Sync Profile\" request first!');",
                  "        pm.expect.fail('User profile does not exist in public.users table');",
                  "    } else {",
                  "        console.log('‚úÖ User profile exists:', responseJson[0].email);",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üîÑ Auto-Sync Profile (If Missing)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"target_user_id\": \"{{user_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/sync_specific_auth_user",
            "description": "üîÑ AUTO-SYNC USER PROFILE\n\n‚úÖ Run this if profile check fails\n‚úÖ Creates public.users record from auth.users\n‚úÖ Assigns role based on email domain\n\nüí° This is the SOLUTION to foreign key errors!"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Profile synced successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    console.log('‚úÖ Profile synced! You can now create projects.');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Create Project - Student",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_title\": \"AI Research Project - Machine Learning in Healthcare\",\n  \"p_description\": \"Looking for passionate researchers to collaborate on developing machine learning models for early disease detection. This project aims to revolutionize healthcare diagnostics using AI.\",\n  \"p_field_type\": \"M√ºhendislik\",\n  \"p_required_skills\": [\"Python\", \"Machine Learning\", \"TensorFlow\", \"Research\"],\n  \"p_contact_info\": \"student@ogrenci.karabuk.edu.tr\",\n  \"p_start_date\": \"2025-01-15\",\n  \"p_end_date\": \"2025-12-31\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/create_project_with_validation",
            "description": "üéì CREATE PROJECT - STUDENT\n\n‚úÖ Creates project with validation:\n- Title, description, field type\n- Required skills array\n- Contact info, dates\n- Auto-assigns creator as owner\n- Auto-creates project participant record"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Project created successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.id).to.exist;",
                  "    pm.expect(responseJson.title).to.exist;",
                  "    pm.collectionVariables.set('project_id', responseJson.id);",
                  "    console.log('Project ID saved:', responseJson.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚úÖ Create Project - Researcher",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_title\": \"Sustainable Technology Research\",\n  \"p_description\": \"Interdisciplinary research project on renewable energy solutions. Seeking collaborators from engineering and environmental science backgrounds.\",\n  \"p_field_type\": \"Bilim\",\n  \"p_required_skills\": [\"Research Methodology\", \"Data Analysis\", \"Renewable Energy\"],\n  \"p_contact_info\": \"researcher@karabuk.edu.tr\",\n  \"p_start_date\": \"2025-02-01\",\n  \"p_end_date\": \"2026-01-31\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/create_project_with_validation",
            "description": "üî¨ CREATE PROJECT - RESEARCHER\n\n‚úÖ Researcher creates interdisciplinary project"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Researcher project created', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.collectionVariables.set('researcher_project_id', responseJson.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üìã Get All Active Projects",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/projects?is_active=eq.true&select=*",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "projects"],
              "query": [
                {
                  "key": "is_active",
                  "value": "eq.true"
                },
                {
                  "key": "select",
                  "value": "*"
                }
              ]
            },
            "description": "üìã GET ALL ACTIVE PROJECTS\n\n‚úÖ Lists all active projects (is_active=true)\n‚úÖ Shows title, description, field_type, skills, dates\n‚úÖ Includes creator info and view count"
          }
        },
        {
          "name": "üîç Get Project Details with Stats",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/get_project_with_details",
            "description": "üîç GET PROJECT WITH DETAILS\n\n‚úÖ Returns complete project info:\n- Project data\n- Owner information\n- Application count\n- Average rating\n- Participant count"
          }
        },
        {
          "name": "üîç Search Projects - By Field Type",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_filters\": {\n    \"field_type\": \"M√ºhendislik\"\n  }\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/search_projects",
            "description": "üîç SEARCH PROJECTS - BY FIELD TYPE\n\n‚úÖ Filter projects by field:\n- M√ºhendislik (Engineering)\n- Saƒülƒ±k (Health)\n- Eƒüitim (Education)\n- Teknoloji (Technology)\n- Sanat (Arts)\n- Bilim (Science)\n- Other"
          }
        },
        {
          "name": "üîç Search Projects - By Skills",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_filters\": {\n    \"skills\": [\"Python\", \"Machine Learning\"]\n  }\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/search_projects",
            "description": "üîç SEARCH PROJECTS - BY SKILLS\n\n‚úÖ Find projects requiring specific skills"
          }
        },
        {
          "name": "‚úèÔ∏è Update My Project",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"UPDATED: This project now includes additional research on ethical AI considerations and data privacy.\",\n  \"required_skills\": [\"Python\", \"Machine Learning\", \"TensorFlow\", \"Research\", \"Ethics\"]\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/projects?id=eq.{{project_id}}",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "projects"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{project_id}}"
                }
              ]
            },
            "description": "‚úèÔ∏è UPDATE MY PROJECT\n\n‚úÖ Update project details\n‚úÖ RLS ensures only owner can update"
          }
        },
        {
          "name": "üîí Close Project",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"closed\"\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/projects?id=eq.{{project_id}}",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "projects"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{project_id}}"
                }
              ]
            },
            "description": "üîí CLOSE PROJECT\n\n‚úÖ Mark project as closed (no new applications)\n‚úÖ Status: active ‚Üí closed"
          }
        },
        {
          "name": "üóëÔ∏è Soft Delete Project",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"is_active\": false\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/projects?id=eq.{{project_id}}",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "projects"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{project_id}}"
                }
              ]
            },
            "description": "üóëÔ∏è SOFT DELETE PROJECT\n\n‚úÖ Mark as inactive (hidden from listings)\n‚úÖ Data preserved for history"
          }
        }
      ]
    },
    {
      "name": "ü§ù Applications Management",
      "item": [
        {
          "name": "‚úÖ Apply to Project",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\",\n  \"p_message\": \"I'm very interested in this AI healthcare project. I have 2 years of experience with Python and machine learning, and I've worked on similar healthcare prediction models. I would love to contribute to this research!\",\n  \"p_cv_link\": \"https://example.com/my-cv.pdf\",\n  \"p_relevant_skills\": [\"Python\", \"Machine Learning\", \"Healthcare Domain Knowledge\"]\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/apply_to_project",
            "description": "ü§ù APPLY TO PROJECT\n\n‚úÖ Submit application:\n- Message explaining interest\n- CV link (optional)\n- Relevant skills\n\n‚úÖ Prevents duplicate applications\n‚úÖ Validates project is active\n‚úÖ Creates notification for project owner"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Application submitted successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.id).to.exist;",
                  "    pm.collectionVariables.set('application_id', responseJson.id);",
                  "    console.log('Application ID saved:', responseJson.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "‚ùå Test Duplicate Application Prevention",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\",\n  \"p_message\": \"Trying to apply again (should fail)\",\n  \"p_relevant_skills\": [\"Python\"]\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/apply_to_project",
            "description": "‚ùå TEST DUPLICATE PREVENTION\n\n‚úÖ Should fail with error:\n\"You have already applied to this project\""
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Duplicate application prevented', function () {",
                  "    pm.response.to.have.status(409);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üìã Get My Applications",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/get_my_applications_dashboard",
            "description": "üìã GET MY APPLICATIONS DASHBOARD\n\n‚úÖ Returns all my applications with:\n- Application details\n- Project information\n- Current status\n- Application date"
          }
        },
        {
          "name": "üì• Get Applications to My Projects (Owner View)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_applications?select=*,applicant:user_id(full_name,email,avatar_url),project:project_id(title)",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_applications"],
              "query": [
                {
                  "key": "select",
                  "value": "*,applicant:user_id(full_name,email,avatar_url),project:project_id(title)"
                }
              ]
            },
            "description": "üì• GET APPLICATIONS TO MY PROJECTS\n\n‚úÖ Project owner sees:\n- All applications to their projects\n- Applicant details\n- Application message and skills\n- Current status"
          }
        },
        {
          "name": "‚úÖ Accept Application (Owner)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_application_id\": \"{{application_id}}\",\n  \"p_new_status\": \"accepted\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/update_application_status",
            "description": "‚úÖ ACCEPT APPLICATION\n\n‚úÖ Project owner accepts applicant:\n- Status: pending ‚Üí accepted\n- Adds participant to project_participants\n- Sends notification to applicant\n\n‚úÖ Only project owner can accept"
          }
        },
        {
          "name": "‚ùå Reject Application (Owner)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_application_id\": \"{{application_id}}\",\n  \"p_new_status\": \"rejected\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/update_application_status",
            "description": "‚ùå REJECT APPLICATION\n\n‚úÖ Project owner rejects applicant\n‚úÖ Sends notification to applicant"
          }
        },
        {
          "name": "üîÑ Withdraw Application (Applicant)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_application_id\": \"{{application_id}}\",\n  \"p_new_status\": \"withdrawn\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/update_application_status",
            "description": "üîÑ WITHDRAW APPLICATION\n\n‚úÖ Applicant withdraws their application\n‚úÖ Status: pending ‚Üí withdrawn"
          }
        }
      ]
    },
    {
      "name": "‚≠ê Favorites Management",
      "item": [
        {
          "name": "‚≠ê Add Project to Favorites",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/toggle_favorite",
            "description": "‚≠ê ADD TO FAVORITES\n\n‚úÖ Toggle favorite status:\n- If not favorited ‚Üí Add to favorites\n- If already favorited ‚Üí Remove from favorites\n\n‚úÖ Returns new favorite state"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Favorite toggled successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.is_favorited).to.exist;",
                  "    console.log('Is favorited:', responseJson.is_favorited);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üìã Get My Favorites",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/favorites?select=*,project:project_id(id,title,description,field_type,status)&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "favorites"],
              "query": [
                {
                  "key": "select",
                  "value": "*,project:project_id(id,title,description,field_type,status)"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üìã GET MY FAVORITES\n\n‚úÖ Lists all favorited projects\n‚úÖ Shows project details\n‚úÖ Ordered by most recent"
          }
        },
        {
          "name": "üî¢ Get Favorite Count for Project",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/favorites?project_id=eq.{{project_id}}&select=count",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "favorites"],
              "query": [
                {
                  "key": "project_id",
                  "value": "eq.{{project_id}}"
                },
                {
                  "key": "select",
                  "value": "count"
                }
              ]
            },
            "description": "üî¢ GET FAVORITE COUNT\n\n‚úÖ Count how many users favorited this project"
          }
        },
        {
          "name": "üóëÔ∏è Remove from Favorites (Toggle)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/toggle_favorite",
            "description": "üóëÔ∏è REMOVE FROM FAVORITES\n\n‚úÖ Same toggle function\n‚úÖ If favorited ‚Üí Removes favorite"
          }
        }
      ]
    },
    {
      "name": "‚≠ê Ratings & Reviews",
      "item": [
        {
          "name": "‚≠ê Submit Rating",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{project_id}}\",\n  \"p_rating\": 5,\n  \"p_review_text\": \"Excellent project! Great collaboration experience. The team was professional and the project goals were clearly defined. Highly recommend working with this project owner.\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/submit_rating",
            "description": "‚≠ê SUBMIT RATING\n\n‚úÖ Rate completed project:\n- Rating: 1-5 stars\n- Review text (optional)\n\n‚úÖ Validates:\n- User is project participant\n- One rating per user per project\n- Rating is between 1-5"
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Rating submitted successfully', function () {",
                  "    pm.response.to.have.status(200);",
                  "    const responseJson = pm.response.json();",
                  "    pm.expect(responseJson.id).to.exist;",
                  "    pm.collectionVariables.set('rating_id', responseJson.id);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "üìã Get Project Ratings",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_ratings?project_id=eq.{{project_id}}&select=*,reviewer:user_id(full_name,avatar_url)&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_ratings"],
              "query": [
                {
                  "key": "project_id",
                  "value": "eq.{{project_id}}"
                },
                {
                  "key": "select",
                  "value": "*,reviewer:user_id(full_name,avatar_url)"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üìã GET PROJECT RATINGS\n\n‚úÖ Shows all ratings for project:\n- Star rating\n- Review text\n- Reviewer info\n- Date"
          }
        },
        {
          "name": "üìä Calculate Average Rating",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/rpc/get_project_with_details?p_project_id={{project_id}}",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "rpc", "get_project_with_details"],
              "query": [
                {
                  "key": "p_project_id",
                  "value": "{{project_id}}"
                }
              ]
            },
            "description": "üìä GET AVERAGE RATING\n\n‚úÖ Returns project with average_rating field\n‚úÖ Calculated from all ratings"
          }
        },
        {
          "name": "‚úèÔ∏è Update My Rating",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 4,\n  \"review_text\": \"Updated review: Good project overall, minor communication issues but great results.\"\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_ratings?id=eq.{{rating_id}}",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_ratings"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.{{rating_id}}"
                }
              ]
            },
            "description": "‚úèÔ∏è UPDATE MY RATING\n\n‚úÖ Update rating and review text\n‚úÖ RLS ensures only reviewer can update"
          }
        },
        {
          "name": "‚ùå Test Non-Participant Rating (Should Fail)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"p_project_id\": \"{{researcher_project_id}}\",\n  \"p_rating\": 5,\n  \"p_review_text\": \"Trying to rate without being participant (should fail)\"\n}"
            },
            "url": "{{supabase_url}}/rest/v1/rpc/submit_rating",
            "description": "‚ùå TEST NON-PARTICIPANT RATING\n\n‚úÖ Should fail with error:\n\"Only project participants can rate\""
          }
        }
      ]
    },
    {
      "name": "üîî Notifications",
      "item": [
        {
          "name": "üìã Get My Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?select=*&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "select",
                  "value": "*"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üìã GET MY NOTIFICATIONS\n\n‚úÖ Shows all notifications:\n- Type (new_application, application_accepted, etc.)\n- Title and message\n- Read/unread status\n- Related project/application\n\n‚úÖ RLS ensures users only see their notifications"
          }
        },
        {
          "name": "üì® Get Unread Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?read=eq.false&select=*&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "read",
                  "value": "eq.false"
                },
                {
                  "key": "select",
                  "value": "*"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üì® GET UNREAD NOTIFICATIONS\n\n‚úÖ Filter for unread only\n‚úÖ Use for notification badge count"
          }
        },
        {
          "name": "‚úÖ Mark Notification as Read",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"read\": true\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?id=eq.NOTIFICATION_ID_HERE",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "id",
                  "value": "eq.NOTIFICATION_ID_HERE"
                }
              ]
            },
            "description": "‚úÖ MARK AS READ\n\n‚úÖ Update read status\n‚úÖ Replace NOTIFICATION_ID_HERE with actual ID"
          }
        },
        {
          "name": "‚úÖ Mark All Notifications as Read",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"read\": true\n}"
            },
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?read=eq.false",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "read",
                  "value": "eq.false"
                }
              ]
            },
            "description": "‚úÖ MARK ALL AS READ\n\n‚úÖ Marks all unread notifications as read"
          }
        },
        {
          "name": "üî¢ Get Unread Count",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Prefer",
                "value": "count=exact"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?read=eq.false&select=count",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "read",
                  "value": "eq.false"
                },
                {
                  "key": "select",
                  "value": "count"
                }
              ]
            },
            "description": "üî¢ GET UNREAD COUNT\n\n‚úÖ Returns count of unread notifications\n‚úÖ Use for notification badge"
          }
        },
        {
          "name": "üîç Filter Notifications by Type",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/notifications?type=eq.new_application&select=*&order=created_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "notifications"],
              "query": [
                {
                  "key": "type",
                  "value": "eq.new_application"
                },
                {
                  "key": "select",
                  "value": "*"
                },
                {
                  "key": "order",
                  "value": "created_at.desc"
                }
              ]
            },
            "description": "üîç FILTER BY TYPE\n\n‚úÖ Notification types:\n- new_application\n- application_accepted\n- application_rejected\n- new_message\n- favorite_project_update\n- deadline_approaching\n- matching_project"
          }
        }
      ]
    },
    {
      "name": "üë• Project Participants",
      "item": [
        {
          "name": "üìã Get Project Participants",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{supabase_anon_key}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_participants?project_id=eq.{{project_id}}&select=*,participant:user_id(full_name,email,avatar_url)&order=joined_at.asc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_participants"],
              "query": [
                {
                  "key": "project_id",
                  "value": "eq.{{project_id}}"
                },
                {
                  "key": "select",
                  "value": "*,participant:user_id(full_name,email,avatar_url)"
                },
                {
                  "key": "order",
                  "value": "joined_at.asc"
                }
              ]
            },
            "description": "üìã GET PROJECT PARTICIPANTS\n\n‚úÖ Shows all participants:\n- Owner\n- Members\n- Join date\n- Participant details"
          }
        },
        {
          "name": "üìã Get My Participated Projects",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_participants?select=*,project:project_id(id,title,description,status,field_type)&order=joined_at.desc",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_participants"],
              "query": [
                {
                  "key": "select",
                  "value": "*,project:project_id(id,title,description,status,field_type)"
                },
                {
                  "key": "order",
                  "value": "joined_at.desc"
                }
              ]
            },
            "description": "üìã GET MY PARTICIPATED PROJECTS\n\n‚úÖ Shows all projects I'm part of:\n- As owner\n- As member\n- With project details"
          }
        },
        {
          "name": "üîç Check if User is Participant",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_participants?project_id=eq.{{project_id}}&user_id=eq.{{user_id}}&select=*",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_participants"],
              "query": [
                {
                  "key": "project_id",
                  "value": "eq.{{project_id}}"
                },
                {
                  "key": "user_id",
                  "value": "eq.{{user_id}}"
                },
                {
                  "key": "select",
                  "value": "*"
                }
              ]
            },
            "description": "üîç CHECK PARTICIPATION\n\n‚úÖ Check if user is project participant\n‚úÖ Returns empty array if not participant\n‚úÖ Use for rating eligibility"
          }
        },
        {
          "name": "üóëÔ∏è Remove Participant (Owner Only)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "apikey",
                "value": "{{supabase_anon_key}}"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{supabase_url}}/rest/v1/project_participants?project_id=eq.{{project_id}}&user_id=eq.USER_ID_TO_REMOVE",
              "host": ["{{supabase_url}}"],
              "path": ["rest", "v1", "project_participants"],
              "query": [
                {
                  "key": "project_id",
                  "value": "eq.{{project_id}}"
                },
                {
                  "key": "user_id",
                  "value": "eq.USER_ID_TO_REMOVE"
                }
              ]
            },
            "description": "üóëÔ∏è REMOVE PARTICIPANT\n\n‚úÖ Project owner can remove members\n‚ö†Ô∏è Cannot remove owner\n‚úÖ Replace USER_ID_TO_REMOVE with actual ID"
          }
        }
      ]
    }
  ]
}